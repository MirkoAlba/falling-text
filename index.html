<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Falling text</title>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.20.0/matter.min.js"
      integrity="sha512-6+7rTBmR6pRFe9fa0vCFjFaHZj/XYa7774bEBzRtxgdpIJOS++R3cKd6Prg/eJmxtsJotd8KAg4g57uuVQsZKA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container-boxes">
      <!-- Green boxes -->
      <div class="box box--green" id="box-0">
        <h2>NO WONDER</h2>
      </div>

      <div class="box box--green" id="box-1">
        <h2>THE SKIP</h2>
      </div>

      <div class="box box--green" id="box-2">
        <h2>BUTTON</h2>
      </div>

      <div class="box box--green" id="box-3">
        <h2>IS THE MOST</h2>
      </div>

      <div class="box box--green" id="box-4">
        <h2>POPULAR</h2>
      </div>

      <div class="box box--green" id="box-5">
        <h2>BUTTON</h2>
      </div>

      <div class="box box--green" id="box-6">
        <h2>EVER</h2>
      </div>

      <!-- Pink boxes 1st row -->

      <div class="box box--pink" id="box-7">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-8">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-9">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-10">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-11">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-12">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <!-- Pink boxes 2nd row -->

      <div class="box box--pink" id="box-13">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-14">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-15">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-16">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-17">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-18">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <!-- Pink boxes over the green ones 1st row -->

      <div class="box box--pink" id="box-19">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-20">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-21">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-22">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-23">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-24">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <!-- Pink boxes over the green ones 2nd row -->

      <div class="box box--pink" id="box-25">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-26">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-27">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-28">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-29">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>

      <div class="box box--pink" id="box-30">
        <p>SKIP AD</p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-skip-end-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0z"
          />
        </svg>
      </div>
    </div>

    <script>
      const { Engine, Bodies, Composite, World } = Matter;

      // Engine, World
      const engine = Matter.Engine.create(),
        world = engine.world;

      function makeBox(w, h, x, y, element, angle) {
        return {
          w,
          h,

          body: Bodies.rectangle(x, y, w, h, {
            angle: angle,
            restitution: 0.1, // low elasticity to reduce bounce
            friction: 0.9, // friction influences movement and sliding
            frictionAir: 0.01, // air friction affects how the body moves in the air
          }),

          elem: element,

          render() {
            const { x, y } = this.body.position;
            this.elem.style.top = `${y - this.h / 2}px`;
            this.elem.style.left = `${x - this.w / 2}px`;
            this.elem.style.transform = `rotate(${this.body.angle}rad)`;
          },
        };
      }

      /**
       *
       * Green Boxes
       *
       */
      const boxesElements = document.querySelectorAll(".box"),
        boxes = [];

      var greenBoxesCount = document.querySelectorAll(".box--green").length;

      boxesElements.forEach((box, i) => {
        const boxPositionInfo = box.getBoundingClientRect(),
          boxWidth = boxPositionInfo.width,
          boxHeight = boxPositionInfo.height;

        var boxXPosition = 150,
          boxYPosition = -50,
          angle = 0;

        switch (i) {
          case 0:
            boxXPosition = window.innerWidth / greenBoxesCount;
            boxYPosition = -150;
            break;
          case 1:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 2;
            boxYPosition = -100;
            break;
          case 2:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 3;
            boxYPosition = -100;
            break;
          case 3:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 3;
            boxYPosition = -50;
            break;
          case 4:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 4.5;
            boxYPosition = -100;
            break;
          case 5:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 5;
            boxYPosition = -50;
            break;
          case 6:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 6;
            boxYPosition = -50;
            break;

          // Pink boxes under the green ones 1st row

          case 7:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 1;

            boxYPosition = 0;

            angle = Math.PI / 2;

            break;

          case 8:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 2;

            boxYPosition = 0;

            angle = Math.PI / 2;

            break;

          case 9:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 3;

            boxYPosition = 0;

            break;

          case 10:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 4;

            boxYPosition = 0;

            break;

          case 11:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 5;

            boxYPosition = 0;

            break;

          case 12:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 6;

            boxYPosition = 0;

            break;

          // Pink boxes under the green ones 2nd row

          case 13:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 1;

            boxYPosition = 50;

            break;

          case 14:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 2;

            boxYPosition = 50;

            break;

          case 15:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 3;

            boxYPosition = 50;

            break;

          case 16:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 4;

            boxYPosition = 50;

            break;

          case 17:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 5;

            boxYPosition = 50;

            break;

          case 18:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 6;

            boxYPosition = 50;

            break;

          // Pink boxes over the green ones 1st row

          case 19:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 1;

            boxYPosition = -150;

            break;

          case 20:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 2;

            boxYPosition = -150;

            break;

          case 21:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 3;

            boxYPosition = -150;

            break;

          case 22:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 4;

            boxYPosition = -150;

            break;

          case 23:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 5;

            boxYPosition = -150;

            break;

          case 24:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 6;

            boxYPosition = -150;

            break;

          // Pink boxes over the green ones 2nd row

          case 25:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 1;

            boxYPosition = -200;

            break;

          case 26:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 2;

            boxYPosition = -200;

            break;

          case 27:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 3;

            boxYPosition = -200;

            break;

          case 28:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 4;

            boxYPosition = -200;

            break;

          case 29:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 5;

            boxYPosition = -200;

            angle = Math.PI / 2;

            break;

          case 30:
            boxXPosition = (window.innerWidth / greenBoxesCount) * 6;

            boxYPosition = -200;

            angle = Math.PI / 2;

            break;

          default:
            break;
        }

        const b = makeBox(
          boxWidth,
          boxHeight,
          boxXPosition,
          boxYPosition,
          box,
          angle
        );

        boxes.push(b);
      });

      /**
       *
       * Walls constraints
       *
       */
      const walls = [
        Bodies.rectangle(
          window.innerWidth / 2,
          window.innerHeight,
          window.innerWidth,
          10,
          {
            isStatic: true,
          }
        ), // bottom
        Bodies.rectangle(0, window.innerHeight / 2, 10, window.innerHeight, {
          isStatic: true,
        }), // left
        Bodies.rectangle(
          window.innerWidth,
          window.innerHeight / 2,
          10,
          window.innerHeight,
          {
            isStatic: true,
          }
        ), // right
      ];

      // Add walls to world
      World.add(world, walls);

      // Add boxes to world
      const bodiesToAdd = [walls, ...boxes.map((b) => b.body)];

      Composite.add(world, bodiesToAdd);

      (function rerender() {
        boxes.forEach((box) => box.render());

        Engine.update(engine);
        requestAnimationFrame(rerender);
      })();
    </script>
  </body>
</html>
